<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SB Ludoverse</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        * {
            touch-action: manipulation; /* Disables double-tap to zoom */
        }
    </style>
</head>
<body>

    <div id="main-menu" class="menu-screen">
        <div class="logo-area">
            <h1 class="game-title">SB LUDOVERSE</h1>
            <h2 class="game-tagline">Roll into the Universe</h2>
        </div>
        
        <div class="mode-grid">
            <button onclick="startGame(2)" class="btn-mode btn-2p"><span class="icon">üë•</span> 2 PLAYERS</button>
            <button onclick="startGame(3)" class="btn-mode btn-3p"><span class="icon">üë•</span> 3 PLAYERS</button>
            <button onclick="startGame(4)" class="btn-mode btn-4p"><span class="icon">üë•</span> 4 PLAYERS</button>
            <button onclick="startGame('cpu')" class="btn-mode btn-cpu"><span class="icon">ü§ñ</span> VS CPU</button>
        </div>

        <button onclick="showRules()" class="btn-rules">üìú RULES & GUIDE</button>
    </div>

    <div id="game-screen" class="hidden">
        
        <div class="top-bar">
            <button id="menu-btn" onclick="togglePauseMenu()">‚è∏ MENU</button>
            <button id="sound-btn" onclick="toggleSound()">üîä</button>
        </div>

        <div class="dice-row top-dice-row">
            <div id="dice-container-red" class="dice-wrapper">
                <div id="dice-red" class="dice-btn" onclick="tryRoll('red')"><span id="dice-val-red">Start</span></div>
            </div>
            <div id="dice-container-green" class="dice-wrapper">
                <div id="dice-green" class="dice-btn" onclick="tryRoll('green')"><span id="dice-val-green">Start</span></div>
            </div>
        </div>

        <div class="board-wrapper">
            <div class="game-container">
                <img src="images/board.png" class="board-img" alt="Ludo Board">
                
                <img src="images/red_pawn.png" class="pawn pawn-red" id="r0" onclick="handlePawnClick('red', 0)">
                <img src="images/red_pawn.png" class="pawn pawn-red" id="r1" onclick="handlePawnClick('red', 1)">
                <img src="images/red_pawn.png" class="pawn pawn-red" id="r2" onclick="handlePawnClick('red', 2)">
                <img src="images/red_pawn.png" class="pawn pawn-red" id="r3" onclick="handlePawnClick('red', 3)">
                
                <img src="images/green_pawn.png" class="pawn pawn-green" id="g0" onclick="handlePawnClick('green', 0)">
                <img src="images/green_pawn.png" class="pawn pawn-green" id="g1" onclick="handlePawnClick('green', 1)">
                <img src="images/green_pawn.png" class="pawn pawn-green" id="g2" onclick="handlePawnClick('green', 2)">
                <img src="images/green_pawn.png" class="pawn pawn-green" id="g3" onclick="handlePawnClick('green', 3)">

                <img src="images/yellow_pawn.png" class="pawn pawn-yellow" id="y0" onclick="handlePawnClick('yellow', 0)">
                <img src="images/yellow_pawn.png" class="pawn pawn-yellow" id="y1" onclick="handlePawnClick('yellow', 1)">
                <img src="images/yellow_pawn.png" class="pawn pawn-yellow" id="y2" onclick="handlePawnClick('yellow', 2)">
                <img src="images/yellow_pawn.png" class="pawn pawn-yellow" id="y3" onclick="handlePawnClick('yellow', 3)">

                <img src="images/blue_pawn.png" class="pawn pawn-blue" id="b0" onclick="handlePawnClick('blue', 0)">
                <img src="images/blue_pawn.png" class="pawn pawn-blue" id="b1" onclick="handlePawnClick('blue', 1)">
                <img src="images/blue_pawn.png" class="pawn pawn-blue" id="b2" onclick="handlePawnClick('blue', 2)">
                <img src="images/blue_pawn.png" class="pawn pawn-blue" id="b3" onclick="handlePawnClick('blue', 3)">
            </div>
        </div>

        <div class="dice-row bottom-dice-row">
            <div id="dice-container-blue" class="dice-wrapper">
                <div id="dice-blue" class="dice-btn" onclick="tryRoll('blue')"><span id="dice-val-blue">Start</span></div>
            </div>
            <div id="dice-container-yellow" class="dice-wrapper">
                <div id="dice-yellow" class="dice-btn" onclick="tryRoll('yellow')"><span id="dice-val-yellow">Start</span></div>
            </div>
        </div>

        <div class="control-panel">
            <div id="game-status" class="status-text">Ready</div>
        </div>

        <div id="pause-modal" class="hidden">
            <div class="modal-content">
                <h2>GAME PAUSED</h2>
                <button onclick="togglePauseMenu()" class="btn-resume">RESUME</button>
                <button onclick="restartGame()" class="btn-restart-menu">RESTART</button>
                <button onclick="quitGame()" class="btn-quit-menu">QUIT GAME</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    
    <script>
        function showRules() { 
            alert("üìú RULES:\n\n1. Roll 6 to Start.\n2. Roll 6, Kill, or Home = BONUS TURN.\n3. Otherwise, only 1 roll per turn."); 
        }
        // togglePauseMenu, quitGame, and restartGame are now handled by script.js
    </script>
</body>
</html>